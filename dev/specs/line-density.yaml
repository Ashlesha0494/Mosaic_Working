data:
  sinusoids:
    file: https://uwdata.github.io/mosaic-datasets/data/sinusoids.parquet
params:
  brush: { select: intersect }
  bandwidth: { value: 0 }
  binWidth: { value: 1 }
vconcat:
- hconcat:
  - input: slider
    label: Bandwidth (Ïƒ)
    as: $bandwidth
    min: 0
    max: 10
    step: 0.1
  - input: menu
    label: Bin Scale
    as: $binWidth
    options:
      - { value: 0.5 }
      - { value: 1 }
      - { value: 2 }
- plot:
  - mark: denseLine
    data: { from: sinusoids, filterBy: $brush }
    x: t
    y: v
    z: s
    fill: density
    bandwidth: $bandwidth
    binWidth: $binWidth
  schemeColor: viridis
  labelY: Value (normalized lines)
  niceY: true
  width: 800
  height: 300
- plot:
  - mark: denseLine
    data: { from: sinusoids }
    x: t
    y: v
    z: s
    fill: density
    normalize: false
    bandwidth: $bandwidth
    binWidth: $binWidth
  - select: intervalXY
    as: $brush
  schemeColor: viridis
  labelY: Value (unnormalized lines)
  niceY: true
  width: 800
  height: 300